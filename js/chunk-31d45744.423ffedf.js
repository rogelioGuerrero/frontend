(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31d45744"],{"18d6":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var a=r("1da1"),c=r("5530"),i=(r("96cf"),r("d3b7"),r("159b"),r("b64b"),r("25f0"),r("7a23")),n=(r("025e"),r("aeb7")),o=r("5502");function s(e,t,r,s){var l=Object(n["a"])(),d=Object(o["b"])(),u=Object(i["I"])({id:null,loading:!1,pageReady:!1,submitted:!1,saving:!1,errorMsg:""}),b=Object(i["e"])((function(){return e.id?e.apiPath+"/"+encodeURIComponent(e.id):e.apiPath})),j=Object(i["e"])({get:function(){return d.getters["".concat(e.pageName,"/currentRecord")]},set:function(t){d.commit("".concat(e.pageName,"/setCurrentRecord"),t)}});function p(){var e=Object(c["a"])({},t);return Array.isArray(e)?e.forEach((function(e){Object.keys(e).forEach((function(t){Array.isArray(e[t])&&(e[t]=e[t].toString())}))})):Object.keys(e).forEach((function(t){Array.isArray(e[t])&&(e[t]=e[t].toString())})),e}function m(){return O.apply(this,arguments)}function O(){return O=Object(a["a"])(regeneratorRuntime.mark((function t(){var a,c,i,n,o,j;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(u.submitted=!0,a=!r.value.$invalid,a){t.next=5;break}return l.flashMsg(e.formValidationError,e.formValidationMsg,"error"),t.abrupt("return");case 5:return u.saving=!0,c=b.value,i=e.id,n=p(),o={id:i,url:c,payload:n},t.prev=10,t.next=13,d.dispatch("".concat(e.pageName,"/updateRecord"),o);case 13:j=t.sent,l.closeDialogs(),s(j),t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](10),l.showPageRequestError(t.t0);case 21:return t.prev=21,u.saving=!1,u.submitted=!1,t.finish(21);case 25:case"end":return t.stop()}}),t,null,[[10,18,21,25]])}))),O.apply(this,arguments)}function v(){return f.apply(this,arguments)}function f(){return f=Object(a["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return u.pageReady=!1,u.loading=!0,u.item=null,a=b.value,r.prev=4,r.next=7,d.dispatch("".concat(e.pageName,"/fetchRecord"),a);case 7:Object.assign(t,j.value),u.pageReady=!0,r.next=15;break;case 11:r.prev=11,r.t0=r["catch"](4),console.error(r.t0),l.showPageRequestError(r.t0);case 15:return r.prev=15,u.loading=!1,r.finish(15);case 18:case"end":return r.stop()}}),r,null,[[4,11,15,18]])}))),f.apply(this,arguments)}function g(e){return{"p-invalid":r.value[e].$invalid&&u.submitted}}function h(e){var t=r.value[e].$silentErrors;return t.length?t[0].$message:null}function y(e,t){return void 0===t?r.value[e].$invalid&&u.submitted:!(!r.value.$each.$response.$errors[t][e].length||!u.submitted)}var w={apiUrl:b,currentRecord:j},E={load:v,submitForm:m,getFieldError:h,getErrorClass:g,isFieldValid:y};return{state:u,computedProps:w,methods:E}}},e7f8:function(e,t,r){"use strict";r.r(t);var a=r("5530"),c=(r("a9e3"),r("7a23")),i=r("25a0"),n=r("0072"),o=r("aeb7"),s=r("18d6"),l={class:"main-page"},d={key:0,class:"page-section mb-3"},u=Object(c["l"])('<div class="container"><div class="grid justify-content-between"><div class="col"><div class=""><div class="text-2xl text-primary font-bold"> Editar </div></div></div></div></div>',1),b=[u],j={class:"page-section"},p={class:"container"},m={class:"grid"},O={class:"md:col-9 sm:col-12 comp-grid"},v={class:""},f={class:""},g={key:0,class:"grid"},h={class:"col-12"},y={class:"grid"},w={class:"col-12"},E={class:"formgrid grid"},R=Object(c["j"])("div",{class:"col-12 md:col-3"}," Nome ",-1),S={class:"col-12 md:col-9"},x={key:0,class:"p-error"},T={class:"col-12"},k={class:"formgrid grid"},V=Object(c["j"])("div",{class:"col-12 md:col-3"}," Valor ",-1),P={class:"col-12 md:col-9"},N={key:0,class:"p-error"},A={key:0,class:"text-center my-3"},M={key:1,class:"p-3 text-center"},B={props:{id:[String,Number],pageName:{type:String,default:"produtos"},routeName:{type:String,default:"produtosedit"},pagePath:{type:String,default:"produtos/edit"},apiPath:{type:String,default:"produtos/edit"},submitButtonLabel:{type:String,default:"Actualizar"},formValidationError:{type:String,default:"El formulario no es válido"},formValidationMsg:{type:String,default:"Por favor complete el formulario"},msgAfterUpdate:{type:String,default:"Registro actualizado con éxito"},showHeader:{type:Boolean,default:!0},showSubmitButton:{type:Boolean,default:!0},redirect:{type:Boolean,default:!0},isSubPage:{type:Boolean,default:!1}},setup:function(e){var t=e,r=Object(o["a"])(),u=Object.assign({nome:"",valor:"0"},t.pageData),B=Object(c["I"])(Object(a["a"])({},u));function $(e){r.flashMsg(t.msgAfterUpdate),t.redirect&&r.navigateTo("/produtos")}var G=Object(c["e"])((function(){return{nome:{},valor:{numeric:n["a"]}}})),U=Object(i["a"])(G,B),F=Object(s["a"])(t,B,U,$),C=Object(c["S"])(F.state),I=(C.submitted,C.saving),z=C.loading,q=C.pageReady,D=F.computedProps,H=(D.apiUrl,D.currentRecord,F.methods),J=H.load,Q=H.submitForm,L=H.getErrorClass,K=H.getFieldError,W=H.isFieldValid;return Object(c["E"])((function(){var e="Editar";r.setPageTitle(t.routeName,e),J()})),function(t,r){var a=Object(c["M"])("InputText"),i=Object(c["M"])("Button"),n=Object(c["M"])("ProgressSpinner");return Object(c["G"])(),Object(c["i"])("div",l,[e.showHeader?(Object(c["G"])(),Object(c["i"])("section",d,b)):Object(c["h"])("",!0),Object(c["j"])("section",j,[Object(c["j"])("div",p,[Object(c["j"])("div",m,[Object(c["j"])("div",O,[Object(c["j"])("div",v,[Object(c["j"])("div",f,[Object(c["j"])("div",null,[Object(c["T"])(q)?(Object(c["G"])(),Object(c["i"])("div",g,[Object(c["j"])("div",h,[Object(c["j"])("form",{ref:"observer",tag:"form",onSubmit:r[2]||(r[2]=Object(c["bb"])((function(e){return Object(c["T"])(Q)()}),["prevent"])),class:Object(c["y"])(["",{card:!e.isSubPage}])},[Object(c["j"])("div",y,[Object(c["j"])("div",w,[Object(c["j"])("div",E,[R,Object(c["j"])("div",S,[Object(c["n"])(a,{ref:"ctrlnome",modelValue:Object(c["T"])(B).nome,"onUpdate:modelValue":r[0]||(r[0]=function(e){return Object(c["T"])(B).nome=e}),modelModifiers:{trim:!0},label:"Nome",type:"text",placeholder:"Escribir Nome",class:Object(c["y"])(["w-full",Object(c["T"])(L)("nome")])},null,8,["modelValue","class"]),Object(c["T"])(W)("nome")?(Object(c["G"])(),Object(c["i"])("small",x,Object(c["Q"])(Object(c["T"])(K)("nome")),1)):Object(c["h"])("",!0)])])]),Object(c["j"])("div",T,[Object(c["j"])("div",k,[V,Object(c["j"])("div",P,[Object(c["n"])(a,{ref:"ctrlvalor",modelValue:Object(c["T"])(B).valor,"onUpdate:modelValue":r[1]||(r[1]=function(e){return Object(c["T"])(B).valor=e}),modelModifiers:{trim:!0},label:"Valor",type:"number",placeholder:"Escribir Valor",step:"0.1",class:Object(c["y"])(["w-full",Object(c["T"])(L)("valor")])},null,8,["modelValue","class"]),Object(c["T"])(W)("valor")?(Object(c["G"])(),Object(c["i"])("small",N,Object(c["Q"])(Object(c["T"])(K)("valor")),1)):Object(c["h"])("",!0)])])])]),e.showSubmitButton?(Object(c["G"])(),Object(c["i"])("div",A,[Object(c["n"])(i,{type:"submit",label:"Actualizar",icon:"pi pi-send",loading:Object(c["T"])(I)},null,8,["loading"])])):Object(c["h"])("",!0)],34)])])):Object(c["h"])("",!0),Object(c["T"])(z)?(Object(c["G"])(),Object(c["i"])("div",M,[Object(c["n"])(n,{style:{width:"50px",height:"50px"}})])):Object(c["h"])("",!0)])])])])])])])])}}};const $=B;t["default"]=$}}]);
//# sourceMappingURL=chunk-31d45744.423ffedf.js.map