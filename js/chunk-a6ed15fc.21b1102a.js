(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a6ed15fc"],{"18d6":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var r=a("1da1"),c=a("5530"),i=(a("96cf"),a("d3b7"),a("159b"),a("b64b"),a("25f0"),a("7a23")),o=(a("025e"),a("aeb7")),n=a("5502");function l(e,t,a,l){var s=Object(o["a"])(),d=Object(n["b"])(),u=Object(i["I"])({id:null,loading:!1,pageReady:!1,submitted:!1,saving:!1,errorMsg:""}),b=Object(i["e"])((function(){return e.id?e.apiPath+"/"+encodeURIComponent(e.id):e.apiPath})),j=Object(i["e"])({get:function(){return d.getters["".concat(e.pageName,"/currentRecord")]},set:function(t){d.commit("".concat(e.pageName,"/setCurrentRecord"),t)}});function p(){var e=Object(c["a"])({},t);return Array.isArray(e)?e.forEach((function(e){Object.keys(e).forEach((function(t){Array.isArray(e[t])&&(e[t]=e[t].toString())}))})):Object.keys(e).forEach((function(t){Array.isArray(e[t])&&(e[t]=e[t].toString())})),e}function O(){return m.apply(this,arguments)}function m(){return m=Object(r["a"])(regeneratorRuntime.mark((function t(){var r,c,i,o,n,j;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(u.submitted=!0,r=!a.value.$invalid,r){t.next=5;break}return s.flashMsg(e.formValidationError,e.formValidationMsg,"error"),t.abrupt("return");case 5:return u.saving=!0,c=b.value,i=e.id,o=p(),n={id:i,url:c,payload:o},t.prev=10,t.next=13,d.dispatch("".concat(e.pageName,"/updateRecord"),n);case 13:j=t.sent,s.closeDialogs(),l(j),t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](10),s.showPageRequestError(t.t0);case 21:return t.prev=21,u.saving=!1,u.submitted=!1,t.finish(21);case 25:case"end":return t.stop()}}),t,null,[[10,18,21,25]])}))),m.apply(this,arguments)}function f(){return g.apply(this,arguments)}function g(){return g=Object(r["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return u.pageReady=!1,u.loading=!0,u.item=null,r=b.value,a.prev=4,a.next=7,d.dispatch("".concat(e.pageName,"/fetchRecord"),r);case 7:Object.assign(t,j.value),u.pageReady=!0,a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](4),console.error(a.t0),s.showPageRequestError(a.t0);case 15:return a.prev=15,u.loading=!1,a.finish(15);case 18:case"end":return a.stop()}}),a,null,[[4,11,15,18]])}))),g.apply(this,arguments)}function v(e){return{"p-invalid":a.value[e].$invalid&&u.submitted}}function h(e){var t=a.value[e].$silentErrors;return t.length?t[0].$message:null}function y(e,t){return void 0===t?a.value[e].$invalid&&u.submitted:!(!a.value.$each.$response.$errors[t][e].length||!u.submitted)}var w={apiUrl:b,currentRecord:j},T={load:f,submitForm:O,getFieldError:h,getErrorClass:v,isFieldValid:y};return{state:u,computedProps:w,methods:T}}},8833:function(e,t,a){"use strict";a.r(t);var r=a("5530"),c=(a("a9e3"),a("7a23")),i=a("25a0"),o=a("0072"),n=a("aeb7"),l=a("18d6"),s={class:"main-page"},d={key:0,class:"page-section mb-3"},u=Object(c["l"])('<div class="container"><div class="grid justify-content-between"><div class="col"><div class=""><div class="text-2xl text-primary font-bold"> Editar </div></div></div></div></div>',1),b=[u],j={class:"page-section"},p={class:"container"},O={class:"grid"},m={class:"md:col-9 sm:col-12 comp-grid"},f={class:""},g={class:""},v={key:0,class:"grid"},h={class:"col-12"},y={class:"grid"},w={class:"col-12"},T={class:"formgrid grid"},k=Object(c["j"])("div",{class:"col-12 md:col-3"}," Cliente ",-1),E={class:"col-12 md:col-9"},R={key:0,class:"p-error"},S={class:"col-12"},x={class:"formgrid grid"},P=Object(c["j"])("div",{class:"col-12 md:col-3"}," Produto ",-1),V={class:"col-12 md:col-9"},M={key:0,class:"p-error"},A={class:"col-12"},B={class:"formgrid grid"},C=Object(c["j"])("div",{class:"col-12 md:col-3"}," Data ",-1),F={class:"col-12 md:col-9"},G={key:0,class:"p-error"},N={key:0,class:"text-center my-3"},U={key:1,class:"p-3 text-center"},$={props:{id:[String,Number],pageName:{type:String,default:"pedido"},routeName:{type:String,default:"pedidoedit"},pagePath:{type:String,default:"pedido/edit"},apiPath:{type:String,default:"pedido/edit"},submitButtonLabel:{type:String,default:"Actualizar"},formValidationError:{type:String,default:"El formulario no es válido"},formValidationMsg:{type:String,default:"Por favor complete el formulario"},msgAfterUpdate:{type:String,default:"Registro actualizado con éxito"},showHeader:{type:Boolean,default:!0},showSubmitButton:{type:Boolean,default:!0},redirect:{type:Boolean,default:!0},isSubPage:{type:Boolean,default:!1}},setup:function(e){var t=e,a=Object(n["a"])(),u=Object.assign({cliente:"",produto:"",data:""},t.pageData),$=Object(c["I"])(Object(r["a"])({},u));function D(e){a.flashMsg(t.msgAfterUpdate),t.redirect&&a.navigateTo("/pedido")}var I=Object(c["e"])((function(){return{cliente:{},produto:{numeric:o["a"]},data:{}}})),H=Object(i["a"])(I,$),z=Object(l["a"])(t,$,H,D),Q=Object(c["S"])(z.state),q=(Q.submitted,Q.saving),J=Q.loading,L=Q.pageReady,K=z.computedProps,W=(K.apiUrl,K.currentRecord,z.methods),X=W.load,Y=W.submitForm,Z=W.getErrorClass,_=W.getFieldError,ee=W.isFieldValid;return Object(c["E"])((function(){var e="Editar";a.setPageTitle(t.routeName,e),X()})),function(t,a){var r=Object(c["M"])("InputText"),i=Object(c["M"])("Calendar"),o=Object(c["M"])("Button"),n=Object(c["M"])("ProgressSpinner");return Object(c["G"])(),Object(c["i"])("div",s,[e.showHeader?(Object(c["G"])(),Object(c["i"])("section",d,b)):Object(c["h"])("",!0),Object(c["j"])("section",j,[Object(c["j"])("div",p,[Object(c["j"])("div",O,[Object(c["j"])("div",m,[Object(c["j"])("div",f,[Object(c["j"])("div",g,[Object(c["j"])("div",null,[Object(c["T"])(L)?(Object(c["G"])(),Object(c["i"])("div",v,[Object(c["j"])("div",h,[Object(c["j"])("form",{ref:"observer",tag:"form",onSubmit:a[3]||(a[3]=Object(c["bb"])((function(e){return Object(c["T"])(Y)()}),["prevent"])),class:Object(c["y"])(["",{card:!e.isSubPage}])},[Object(c["j"])("div",y,[Object(c["j"])("div",w,[Object(c["j"])("div",T,[k,Object(c["j"])("div",E,[Object(c["n"])(r,{ref:"ctrlcliente",modelValue:Object(c["T"])($).cliente,"onUpdate:modelValue":a[0]||(a[0]=function(e){return Object(c["T"])($).cliente=e}),modelModifiers:{trim:!0},label:"Cliente",type:"text",placeholder:"Escribir Cliente",class:Object(c["y"])(["w-full",Object(c["T"])(Z)("cliente")])},null,8,["modelValue","class"]),Object(c["T"])(ee)("cliente")?(Object(c["G"])(),Object(c["i"])("small",R,Object(c["Q"])(Object(c["T"])(_)("cliente")),1)):Object(c["h"])("",!0)])])]),Object(c["j"])("div",S,[Object(c["j"])("div",x,[P,Object(c["j"])("div",V,[Object(c["n"])(r,{ref:"ctrlproduto",modelValue:Object(c["T"])($).produto,"onUpdate:modelValue":a[1]||(a[1]=function(e){return Object(c["T"])($).produto=e}),modelModifiers:{trim:!0},label:"Produto",type:"number",placeholder:"Escribir Produto",step:"any",class:Object(c["y"])(["w-full",Object(c["T"])(Z)("produto")])},null,8,["modelValue","class"]),Object(c["T"])(ee)("produto")?(Object(c["G"])(),Object(c["i"])("small",M,Object(c["Q"])(Object(c["T"])(_)("produto")),1)):Object(c["h"])("",!0)])])]),Object(c["j"])("div",A,[Object(c["j"])("div",B,[C,Object(c["j"])("div",F,[Object(c["n"])(i,{showButtonBar:!0,showTime:!0,dateFormat:"yy-mm-dd",hourFormat:"24",modelValue:Object(c["T"])($).data,"onUpdate:modelValue":a[2]||(a[2]=function(e){return Object(c["T"])($).data=e}),showIcon:!0,class:Object(c["y"])(["w-full",Object(c["T"])(Z)("data")]),mask:"yy-MM-DD HH:mm"},null,8,["modelValue","class"]),Object(c["T"])(ee)("data")?(Object(c["G"])(),Object(c["i"])("small",G,Object(c["Q"])(Object(c["T"])(_)("data")),1)):Object(c["h"])("",!0)])])])]),e.showSubmitButton?(Object(c["G"])(),Object(c["i"])("div",N,[Object(c["n"])(o,{type:"submit",label:"Actualizar",icon:"pi pi-send",loading:Object(c["T"])(q)},null,8,["loading"])])):Object(c["h"])("",!0)],34)])])):Object(c["h"])("",!0),Object(c["T"])(J)?(Object(c["G"])(),Object(c["i"])("div",U,[Object(c["n"])(n,{style:{width:"50px",height:"50px"}})])):Object(c["h"])("",!0)])])])])])])])])}}};const D=$;t["default"]=D}}]);
//# sourceMappingURL=chunk-a6ed15fc.21b1102a.js.map