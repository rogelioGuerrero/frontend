(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-277f6954"],{"48f7":function(e,t,a){"use strict";a.r(t);var r=a("5530"),n=(a("b0c0"),a("7a23")),c=a("25a0"),i=(a("0072"),a("aeb7")),o=a("cf87"),s={class:"main-page"},l={key:0,class:"page-section mb-3"},u=Object(n["l"])('<div class="container"><div class="grid justify-content-between"><div class="col"><div class=""><div class="text-2xl text-primary font-bold"> Agregar nuevo </div></div></div></div></div>',1),b=[u],d={class:"page-section"},j={class:"container"},f={class:"grid"},m={class:"md:col-9 sm:col-12 comp-grid"},p={class:""},v={class:""},O={class:"grid"},g={class:"col-12"},h={class:"formgrid grid"},y=Object(n["j"])("div",{class:"col-12 md:col-3"}," Name ",-1),S={class:"col-12 md:col-9"},E={key:0,class:"p-error"},$={class:"col-12"},w={class:"formgrid grid"},x=Object(n["j"])("div",{class:"col-12 md:col-3"}," Phone ",-1),T={class:"col-12 md:col-9"},k={key:0,class:"p-error"},V={key:0,class:"text-center my-3"},A={props:{pageName:{type:String,default:"clientes"},routeName:{type:String,default:"clientesadd"},apiPath:{type:String,default:"clientes/add"},submitButtonLabel:{type:String,default:"Entregar"},formValidationError:{type:String,default:"El formulario no es v√°lido"},formValidationMsg:{type:String,default:"Por favor complete el formulario"},msgAfterSave:{type:String,default:"Grabar agregado exitosamente"},showHeader:{type:Boolean,default:!0},showSubmitButton:{type:Boolean,default:!0},redirect:{type:Boolean,default:!0},isSubPage:{type:Boolean,default:!1},pageData:{type:Object,default:function(){}}},setup:function(e,t){var a=t.expose,u=e,A=Object(i["a"])(),P={name:"",phone:""},D=Object(n["I"])(Object(r["a"])({},P)),F=Object(n["e"])((function(){return{name:{},phone:{}}})),M=Object(c["a"])(F,D),B=Object(o["a"])({props:u,formData:D,v$:M,beforeSubmit:N,afterSubmit:R});function N(){return!0}function R(e){A.flashMsg(u.msgAfterSave),B.setFormDefaultValues(),u.redirect&&A.navigateTo("/clientes")}var G=Object(n["S"])(B.state),I=(G.submitted,G.saving),U=(G.pageReady,B.methods),C=U.submitForm,H=U.getErrorClass,J=U.getFieldError,Q=U.isFieldValid;return Object(n["E"])((function(){var e="Agregar nuevo";A.setPageTitle(u.routeName,e)})),a({page:B}),function(t,a){var r=Object(n["M"])("InputText"),c=Object(n["M"])("Button");return Object(n["G"])(),Object(n["i"])("div",s,[e.showHeader?(Object(n["G"])(),Object(n["i"])("section",l,b)):Object(n["h"])("",!0),Object(n["j"])("section",d,[Object(n["j"])("div",j,[Object(n["j"])("div",f,[Object(n["j"])("div",m,[Object(n["j"])("div",p,[Object(n["j"])("div",v,[Object(n["j"])("div",null,[Object(n["j"])("form",{ref:"observer",tag:"form",onSubmit:a[2]||(a[2]=Object(n["bb"])((function(e){return Object(n["T"])(C)()}),["prevent"])),class:Object(n["y"])(["",{card:!e.isSubPage}])},[Object(n["j"])("div",O,[Object(n["j"])("div",g,[Object(n["j"])("div",h,[y,Object(n["j"])("div",S,[Object(n["n"])(r,{ref:"ctrlname",modelValue:Object(n["T"])(D).name,"onUpdate:modelValue":a[0]||(a[0]=function(e){return Object(n["T"])(D).name=e}),modelModifiers:{trim:!0},label:"Name",type:"text",placeholder:"Escribir Name",class:Object(n["y"])(["w-full",Object(n["T"])(H)("name")])},null,8,["modelValue","class"]),Object(n["T"])(Q)("name")?(Object(n["G"])(),Object(n["i"])("small",E,Object(n["Q"])(Object(n["T"])(J)("name")),1)):Object(n["h"])("",!0)])])]),Object(n["j"])("div",$,[Object(n["j"])("div",w,[x,Object(n["j"])("div",T,[Object(n["n"])(r,{ref:"ctrlphone",modelValue:Object(n["T"])(D).phone,"onUpdate:modelValue":a[1]||(a[1]=function(e){return Object(n["T"])(D).phone=e}),modelModifiers:{trim:!0},label:"Phone",type:"text",placeholder:"Escribir Phone",class:Object(n["y"])(["w-full",Object(n["T"])(H)("phone")])},null,8,["modelValue","class"]),Object(n["T"])(Q)("phone")?(Object(n["G"])(),Object(n["i"])("small",k,Object(n["Q"])(Object(n["T"])(J)("phone")),1)):Object(n["h"])("",!0)])])])]),e.showSubmitButton?(Object(n["G"])(),Object(n["i"])("div",V,[Object(n["n"])(c,{class:"p-button-primary",type:"submit",label:"Entregar",icon:"pi pi-send",loading:Object(n["T"])(I)},null,8,["loading"])])):Object(n["h"])("",!0)],34)])])])])])])])])}}};const P=A;t["default"]=P},cf87:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var r=a("1da1"),n=a("5530"),c=a("2909"),i=(a("96cf"),a("d3b7"),a("159b"),a("b64b"),a("25f0"),a("7a23")),o=a("aeb7"),s=a("5502");function l(e){var t=e.props,a=e.formData,l=e.v$,u=e.beforeSubmit,b=e.afterSubmit,d=Object(o["a"])(),j=Object(s["b"])(),f=Object(i["I"])({id:null,pageReady:!1,submitted:!1,saving:!1,errorMsg:""});h();var m=Object(i["e"])((function(){return t.apiPath}));function p(){return f.submitted=!0,l.value.$validate(),!l.value.$invalid}function v(){if(Array.isArray(a)){var e=Object(c["a"])(a);return e.forEach((function(e){Object.keys(e).forEach((function(t){Array.isArray(e[t])&&(e[t]=e[t].toString())}))})),e}var t=Object(n["a"])({},a);return Object.keys(t).forEach((function(e){Array.isArray(t[e])&&(t[e]=t[e].toString())})),t}function O(){return g.apply(this,arguments)}function g(){return g=Object(r["a"])(regeneratorRuntime.mark((function e(){var a,r,n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(f.submitted=!0,void 0===u){e.next=4;break}if(u()){e.next=4;break}return e.abrupt("return");case 4:if(p()){e.next=7;break}return d.flashMsg(t.formValidationError,t.formValidationMsg,"error"),e.abrupt("return");case 7:return f.saving=!0,a=m.value,r=v(),n={url:a,payload:r},e.prev=11,e.next=14,j.dispatch("".concat(t.pageName,"/saveRecord"),n);case 14:c=e.sent,d.closeDialogs(),b&&b(c),e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](11),d.showPageRequestError(e.t0);case 22:return e.prev=22,f.submitted=!1,f.saving=!1,e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[11,19,22,26]])}))),g.apply(this,arguments)}function h(){var e=Object(i["e"])((function(){return j.getters["".concat(t.pageName,"/formData")]})),r=t.pageData,c=Object(n["a"])(Object(n["a"])({},r),e.value);Array.isArray(a)||Object.assign(a,c)}function y(e,t){var a=!1;return void 0===t?a=l.value[e].$invalid&&f.submitted:l.value.$each.$response.$errors[t][e].length&&f.submitted&&(a=!0),{"p-invalid":a}}function S(e,t){return void 0===t?l.value[e].$invalid&&f.submitted:!(!l.value.$each.$response.$errors[t][e].length||!f.submitted)}function E(e,t){var a=null;if(void 0===t){if(a=l.value[e].$silentErrors,a.length)return a[0].$message}else if(a=l.value.$each.$response.$errors[t][e],a.length)return a[0].$message;return null}Object(i["W"])((function(){return t.pageData}),(function(e){Object.assign(a,e)}),{deep:!0,immediate:!0}),Object(i["E"])((function(){f.pageReady=!0}));var $={apiUrl:m},w={submitForm:O,getErrorClass:y,getFieldError:E,isFieldValid:S};return{validateForm:p,setFormDefaultValues:h,formData:a,state:f,computedProps:$,methods:w}}}}]);
//# sourceMappingURL=chunk-277f6954.d2b77e2f.js.map