(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8771e97e"],{cf87:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a("1da1"),c=a("5530"),i=a("2909"),o=(a("96cf"),a("d3b7"),a("159b"),a("b64b"),a("25f0"),a("7a23")),n=a("aeb7"),l=a("5502");function s(e){var t=e.props,a=e.formData,s=e.v$,u=e.beforeSubmit,d=e.afterSubmit,b=Object(n["a"])(),j=Object(l["b"])(),m=Object(o["I"])({id:null,pageReady:!1,submitted:!1,saving:!1,errorMsg:""});y();var f=Object(o["e"])((function(){return t.apiPath}));function O(){return m.submitted=!0,s.value.$validate(),!s.value.$invalid}function p(){if(Array.isArray(a)){var e=Object(i["a"])(a);return e.forEach((function(e){Object.keys(e).forEach((function(t){Array.isArray(e[t])&&(e[t]=e[t].toString())}))})),e}var t=Object(c["a"])({},a);return Object.keys(t).forEach((function(e){Array.isArray(t[e])&&(t[e]=t[e].toString())})),t}function v(){return g.apply(this,arguments)}function g(){return g=Object(r["a"])(regeneratorRuntime.mark((function e(){var a,r,c,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(m.submitted=!0,void 0===u){e.next=4;break}if(u()){e.next=4;break}return e.abrupt("return");case 4:if(O()){e.next=7;break}return b.flashMsg(t.formValidationError,t.formValidationMsg,"error"),e.abrupt("return");case 7:return m.saving=!0,a=f.value,r=p(),c={url:a,payload:r},e.prev=11,e.next=14,j.dispatch("".concat(t.pageName,"/saveRecord"),c);case 14:i=e.sent,b.closeDialogs(),d&&d(i),e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](11),b.showPageRequestError(e.t0);case 22:return e.prev=22,m.submitted=!1,m.saving=!1,e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[11,19,22,26]])}))),g.apply(this,arguments)}function y(){var e=Object(o["e"])((function(){return j.getters["".concat(t.pageName,"/formData")]})),r=t.pageData,i=Object(c["a"])(Object(c["a"])({},r),e.value);Array.isArray(a)||Object.assign(a,i)}function h(e,t){var a=!1;return void 0===t?a=s.value[e].$invalid&&m.submitted:s.value.$each.$response.$errors[t][e].length&&m.submitted&&(a=!0),{"p-invalid":a}}function w(e,t){return void 0===t?s.value[e].$invalid&&m.submitted:!(!s.value.$each.$response.$errors[t][e].length||!m.submitted)}function S(e,t){var a=null;if(void 0===t){if(a=s.value[e].$silentErrors,a.length)return a[0].$message}else if(a=s.value.$each.$response.$errors[t][e],a.length)return a[0].$message;return null}Object(o["W"])((function(){return t.pageData}),(function(e){Object.assign(a,e)}),{deep:!0,immediate:!0}),Object(o["E"])((function(){m.pageReady=!0}));var T={apiUrl:f},E={submitForm:v,getErrorClass:h,getFieldError:S,isFieldValid:w};return{validateForm:O,setFormDefaultValues:y,formData:a,state:m,computedProps:T,methods:E}}},d361:function(e,t,a){"use strict";a.r(t);var r=a("5530"),c=a("7a23"),i=a("25a0"),o=a("0072"),n=a("aeb7"),l=a("cf87"),s={class:"main-page"},u={key:0,class:"page-section mb-3"},d=Object(c["l"])('<div class="container"><div class="grid justify-content-between"><div class="col"><div class=""><div class="text-2xl text-primary font-bold"> Agregar nuevo </div></div></div></div></div>',1),b=[d],j={class:"page-section"},m={class:"container"},f={class:"grid"},O={class:"md:col-9 sm:col-12 comp-grid"},p={class:""},v={class:""},g={class:"grid"},y={class:"col-12"},h={class:"formgrid grid"},w=Object(c["j"])("div",{class:"col-12 md:col-3"}," Cliente ",-1),S={class:"col-12 md:col-9"},T={key:0,class:"p-error"},E={class:"col-12"},$={class:"formgrid grid"},V=Object(c["j"])("div",{class:"col-12 md:col-3"}," Produto ",-1),k={class:"col-12 md:col-9"},x={key:0,class:"p-error"},D={class:"col-12"},A={class:"formgrid grid"},M=Object(c["j"])("div",{class:"col-12 md:col-3"}," Data ",-1),F={class:"col-12 md:col-9"},P={key:0,class:"p-error"},B={key:0,class:"text-center my-3"},G={props:{pageName:{type:String,default:"pedido"},routeName:{type:String,default:"pedidoadd"},apiPath:{type:String,default:"pedido/add"},submitButtonLabel:{type:String,default:"Entregar"},formValidationError:{type:String,default:"El formulario no es v√°lido"},formValidationMsg:{type:String,default:"Por favor complete el formulario"},msgAfterSave:{type:String,default:"Grabar agregado exitosamente"},showHeader:{type:Boolean,default:!0},showSubmitButton:{type:Boolean,default:!0},redirect:{type:Boolean,default:!0},isSubPage:{type:Boolean,default:!1},pageData:{type:Object,default:function(){}}},setup:function(e,t){var a=t.expose,d=e,G=Object(n["a"])(),R={cliente:"",produto:"",data:""},C=Object(c["I"])(Object(r["a"])({},R)),N=Object(c["e"])((function(){return{cliente:{},produto:{numeric:o["a"]},data:{}}})),H=Object(i["a"])(N,C),I=Object(l["a"])({props:d,formData:C,v$:H,beforeSubmit:U,afterSubmit:Q});function U(){return!0}function Q(e){G.flashMsg(d.msgAfterSave),I.setFormDefaultValues(),d.redirect&&G.navigateTo("/pedido")}var J=Object(c["S"])(I.state),q=(J.submitted,J.saving),L=(J.pageReady,I.methods),W=L.submitForm,z=L.getErrorClass,K=L.getFieldError,X=L.isFieldValid;return Object(c["E"])((function(){var e="Agregar nuevo";G.setPageTitle(d.routeName,e)})),a({page:I}),function(t,a){var r=Object(c["M"])("InputText"),i=Object(c["M"])("Calendar"),o=Object(c["M"])("Button");return Object(c["G"])(),Object(c["i"])("div",s,[e.showHeader?(Object(c["G"])(),Object(c["i"])("section",u,b)):Object(c["h"])("",!0),Object(c["j"])("section",j,[Object(c["j"])("div",m,[Object(c["j"])("div",f,[Object(c["j"])("div",O,[Object(c["j"])("div",p,[Object(c["j"])("div",v,[Object(c["j"])("div",null,[Object(c["j"])("form",{ref:"observer",tag:"form",onSubmit:a[3]||(a[3]=Object(c["bb"])((function(e){return Object(c["T"])(W)()}),["prevent"])),class:Object(c["y"])(["",{card:!e.isSubPage}])},[Object(c["j"])("div",g,[Object(c["j"])("div",y,[Object(c["j"])("div",h,[w,Object(c["j"])("div",S,[Object(c["n"])(r,{ref:"ctrlcliente",modelValue:Object(c["T"])(C).cliente,"onUpdate:modelValue":a[0]||(a[0]=function(e){return Object(c["T"])(C).cliente=e}),modelModifiers:{trim:!0},label:"Cliente",type:"text",placeholder:"Escribir Cliente",class:Object(c["y"])(["w-full",Object(c["T"])(z)("cliente")])},null,8,["modelValue","class"]),Object(c["T"])(X)("cliente")?(Object(c["G"])(),Object(c["i"])("small",T,Object(c["Q"])(Object(c["T"])(K)("cliente")),1)):Object(c["h"])("",!0)])])]),Object(c["j"])("div",E,[Object(c["j"])("div",$,[V,Object(c["j"])("div",k,[Object(c["n"])(r,{ref:"ctrlproduto",modelValue:Object(c["T"])(C).produto,"onUpdate:modelValue":a[1]||(a[1]=function(e){return Object(c["T"])(C).produto=e}),modelModifiers:{trim:!0},label:"Produto",type:"number",placeholder:"Escribir Produto",step:"any",class:Object(c["y"])(["w-full",Object(c["T"])(z)("produto")])},null,8,["modelValue","class"]),Object(c["T"])(X)("produto")?(Object(c["G"])(),Object(c["i"])("small",x,Object(c["Q"])(Object(c["T"])(K)("produto")),1)):Object(c["h"])("",!0)])])]),Object(c["j"])("div",D,[Object(c["j"])("div",A,[M,Object(c["j"])("div",F,[Object(c["n"])(i,{showButtonBar:!0,showTime:!0,dateFormat:"yy-mm-dd",hourFormat:"24",modelValue:Object(c["T"])(C).data,"onUpdate:modelValue":a[2]||(a[2]=function(e){return Object(c["T"])(C).data=e}),showIcon:!0,class:Object(c["y"])(["w-full",Object(c["T"])(z)("data")]),mask:"yy-MM-DD HH:mm"},null,8,["modelValue","class"]),Object(c["T"])(X)("data")?(Object(c["G"])(),Object(c["i"])("small",P,Object(c["Q"])(Object(c["T"])(K)("data")),1)):Object(c["h"])("",!0)])])])]),e.showSubmitButton?(Object(c["G"])(),Object(c["i"])("div",B,[Object(c["n"])(o,{class:"p-button-primary",type:"submit",label:"Entregar",icon:"pi pi-send",loading:Object(c["T"])(q)},null,8,["loading"])])):Object(c["h"])("",!0)],34)])])])])])])])])}}};const R=G;t["default"]=R}}]);
//# sourceMappingURL=chunk-8771e97e.48c14dc3.js.map