(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44907b13"],{cf87:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var c=r("1da1"),a=r("5530"),o=r("2909"),i=(r("96cf"),r("d3b7"),r("159b"),r("b64b"),r("25f0"),r("7a23")),l=r("aeb7"),n=r("5502");function s(e){var t=e.props,r=e.formData,s=e.v$,d=e.beforeSubmit,u=e.afterSubmit,b=Object(l["a"])(),j=Object(n["b"])(),O=Object(i["I"])({id:null,pageReady:!1,submitted:!1,saving:!1,errorMsg:""});h();var p=Object(i["e"])((function(){return t.apiPath}));function m(){return O.submitted=!0,s.value.$validate(),!s.value.$invalid}function f(){if(Array.isArray(r)){var e=Object(o["a"])(r);return e.forEach((function(e){Object.keys(e).forEach((function(t){Array.isArray(e[t])&&(e[t]=e[t].toString())}))})),e}var t=Object(a["a"])({},r);return Object.keys(t).forEach((function(e){Array.isArray(t[e])&&(t[e]=t[e].toString())})),t}function v(){return g.apply(this,arguments)}function g(){return g=Object(c["a"])(regeneratorRuntime.mark((function e(){var r,c,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(O.submitted=!0,void 0===d){e.next=4;break}if(d()){e.next=4;break}return e.abrupt("return");case 4:if(m()){e.next=7;break}return b.flashMsg(t.formValidationError,t.formValidationMsg,"error"),e.abrupt("return");case 7:return O.saving=!0,r=p.value,c=f(),a={url:r,payload:c},e.prev=11,e.next=14,j.dispatch("".concat(t.pageName,"/saveRecord"),a);case 14:o=e.sent,b.closeDialogs(),u&&u(o),e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](11),b.showPageRequestError(e.t0);case 22:return e.prev=22,O.submitted=!1,O.saving=!1,e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[11,19,22,26]])}))),g.apply(this,arguments)}function h(){var e=Object(i["e"])((function(){return j.getters["".concat(t.pageName,"/formData")]})),c=t.pageData,o=Object(a["a"])(Object(a["a"])({},c),e.value);Array.isArray(r)||Object.assign(r,o)}function y(e,t){var r=!1;return void 0===t?r=s.value[e].$invalid&&O.submitted:s.value.$each.$response.$errors[t][e].length&&O.submitted&&(r=!0),{"p-invalid":r}}function T(e,t){return void 0===t?s.value[e].$invalid&&O.submitted:!(!s.value.$each.$response.$errors[t][e].length||!O.submitted)}function V(e,t){var r=null;if(void 0===t){if(r=s.value[e].$silentErrors,r.length)return r[0].$message}else if(r=s.value.$each.$response.$errors[t][e],r.length)return r[0].$message;return null}Object(i["W"])((function(){return t.pageData}),(function(e){Object.assign(r,e)}),{deep:!0,immediate:!0}),Object(i["E"])((function(){O.pageReady=!0}));var E={apiUrl:p},S={submitForm:v,getErrorClass:y,getFieldError:V,isFieldValid:T};return{validateForm:m,setFormDefaultValues:h,formData:r,state:O,computedProps:E,methods:S}}},e39c:function(e,t,r){"use strict";r.r(t);var c=r("5530"),a=r("7a23"),o=r("25a0"),i=r("0072"),l=r("aeb7"),n=r("cf87"),s={class:"main-page"},d={key:0,class:"page-section mb-3"},u=Object(a["l"])('<div class="container"><div class="grid justify-content-between"><div class="col"><div class=""><div class="text-2xl text-primary font-bold"> Agregar nuevo </div></div></div></div></div>',1),b=[u],j={class:"page-section"},O={class:"container"},p={class:"grid"},m={class:"md:col-9 sm:col-12 comp-grid"},f={class:""},v={class:""},g={class:"grid"},h={class:"col-12"},y={class:"formgrid grid"},T=Object(a["j"])("div",{class:"col-12 md:col-3"}," Code * ",-1),V={class:"col-12 md:col-9"},E={key:0,class:"p-error"},S={class:"col-12"},w={class:"formgrid grid"},$=Object(a["j"])("div",{class:"col-12 md:col-3"}," Phone * ",-1),k={class:"col-12 md:col-9"},P={key:0,class:"p-error"},x={class:"col-12"},A={class:"formgrid grid"},M=Object(a["j"])("div",{class:"col-12 md:col-3"}," Pedido ",-1),D={class:"col-12 md:col-9"},F={key:0,class:"p-error"},G={class:"col-12"},B={class:"formgrid grid"},C=Object(a["j"])("div",{class:"col-12 md:col-3"}," Produto ",-1),R={class:"col-12 md:col-9"},U={key:0,class:"p-error"},N={class:"col-12"},Q={class:"formgrid grid"},q=Object(a["j"])("div",{class:"col-12 md:col-3"}," Conteudo ",-1),I={class:"col-12 md:col-9"},H={key:0,class:"p-error"},J={key:0,class:"text-center my-3"},L={props:{pageName:{type:String,default:"historico"},routeName:{type:String,default:"historicoadd"},apiPath:{type:String,default:"historico/add"},submitButtonLabel:{type:String,default:"Entregar"},formValidationError:{type:String,default:"El formulario no es v√°lido"},formValidationMsg:{type:String,default:"Por favor complete el formulario"},msgAfterSave:{type:String,default:"Grabar agregado exitosamente"},showHeader:{type:Boolean,default:!0},showSubmitButton:{type:Boolean,default:!0},redirect:{type:Boolean,default:!0},isSubPage:{type:Boolean,default:!1},pageData:{type:Object,default:function(){}}},setup:function(e,t){var r=t.expose,u=e,L=Object(l["a"])(),W={code:"",phone:"",pedido:"",produto:"",conteudo:""},z=Object(a["I"])(Object(c["a"])({},W)),K=Object(a["e"])((function(){return{code:{required:i["b"],numeric:i["a"]},phone:{required:i["b"]},pedido:{numeric:i["a"]},produto:{numeric:i["a"]},conteudo:{}}})),X=Object(o["a"])(K,z),Y=Object(n["a"])({props:u,formData:z,v$:X,beforeSubmit:Z,afterSubmit:_});function Z(){return!0}function _(e){L.flashMsg(u.msgAfterSave),Y.setFormDefaultValues(),u.redirect&&L.navigateTo("/historico")}var ee=Object(a["S"])(Y.state),te=(ee.submitted,ee.saving),re=(ee.pageReady,Y.methods),ce=re.submitForm,ae=re.getErrorClass,oe=re.getFieldError,ie=re.isFieldValid;return Object(a["E"])((function(){var e="Agregar nuevo";L.setPageTitle(u.routeName,e)})),r({page:Y}),function(t,r){var c=Object(a["M"])("InputText"),o=Object(a["M"])("Button");return Object(a["G"])(),Object(a["i"])("div",s,[e.showHeader?(Object(a["G"])(),Object(a["i"])("section",d,b)):Object(a["h"])("",!0),Object(a["j"])("section",j,[Object(a["j"])("div",O,[Object(a["j"])("div",p,[Object(a["j"])("div",m,[Object(a["j"])("div",f,[Object(a["j"])("div",v,[Object(a["j"])("div",null,[Object(a["j"])("form",{ref:"observer",tag:"form",onSubmit:r[5]||(r[5]=Object(a["bb"])((function(e){return Object(a["T"])(ce)()}),["prevent"])),class:Object(a["y"])(["",{card:!e.isSubPage}])},[Object(a["j"])("div",g,[Object(a["j"])("div",h,[Object(a["j"])("div",y,[T,Object(a["j"])("div",V,[Object(a["n"])(c,{ref:"ctrlcode",modelValue:Object(a["T"])(z).code,"onUpdate:modelValue":r[0]||(r[0]=function(e){return Object(a["T"])(z).code=e}),modelModifiers:{trim:!0},label:"Code",type:"number",placeholder:"Escribir Code",step:"any",class:Object(a["y"])(["w-full",Object(a["T"])(ae)("code")])},null,8,["modelValue","class"]),Object(a["T"])(ie)("code")?(Object(a["G"])(),Object(a["i"])("small",E,Object(a["Q"])(Object(a["T"])(oe)("code")),1)):Object(a["h"])("",!0)])])]),Object(a["j"])("div",S,[Object(a["j"])("div",w,[$,Object(a["j"])("div",k,[Object(a["n"])(c,{ref:"ctrlphone",modelValue:Object(a["T"])(z).phone,"onUpdate:modelValue":r[1]||(r[1]=function(e){return Object(a["T"])(z).phone=e}),modelModifiers:{trim:!0},label:"Phone",type:"text",placeholder:"Escribir Phone",class:Object(a["y"])(["w-full",Object(a["T"])(ae)("phone")])},null,8,["modelValue","class"]),Object(a["T"])(ie)("phone")?(Object(a["G"])(),Object(a["i"])("small",P,Object(a["Q"])(Object(a["T"])(oe)("phone")),1)):Object(a["h"])("",!0)])])]),Object(a["j"])("div",x,[Object(a["j"])("div",A,[M,Object(a["j"])("div",D,[Object(a["n"])(c,{ref:"ctrlpedido",modelValue:Object(a["T"])(z).pedido,"onUpdate:modelValue":r[2]||(r[2]=function(e){return Object(a["T"])(z).pedido=e}),modelModifiers:{trim:!0},label:"Pedido",type:"number",placeholder:"Escribir Pedido",step:"any",class:Object(a["y"])(["w-full",Object(a["T"])(ae)("pedido")])},null,8,["modelValue","class"]),Object(a["T"])(ie)("pedido")?(Object(a["G"])(),Object(a["i"])("small",F,Object(a["Q"])(Object(a["T"])(oe)("pedido")),1)):Object(a["h"])("",!0)])])]),Object(a["j"])("div",G,[Object(a["j"])("div",B,[C,Object(a["j"])("div",R,[Object(a["n"])(c,{ref:"ctrlproduto",modelValue:Object(a["T"])(z).produto,"onUpdate:modelValue":r[3]||(r[3]=function(e){return Object(a["T"])(z).produto=e}),modelModifiers:{trim:!0},label:"Produto",type:"number",placeholder:"Escribir Produto",step:"any",class:Object(a["y"])(["w-full",Object(a["T"])(ae)("produto")])},null,8,["modelValue","class"]),Object(a["T"])(ie)("produto")?(Object(a["G"])(),Object(a["i"])("small",U,Object(a["Q"])(Object(a["T"])(oe)("produto")),1)):Object(a["h"])("",!0)])])]),Object(a["j"])("div",N,[Object(a["j"])("div",Q,[q,Object(a["j"])("div",I,[Object(a["n"])(c,{ref:"ctrlconteudo",modelValue:Object(a["T"])(z).conteudo,"onUpdate:modelValue":r[4]||(r[4]=function(e){return Object(a["T"])(z).conteudo=e}),modelModifiers:{trim:!0},label:"Conteudo",type:"text",placeholder:"Escribir Conteudo",class:Object(a["y"])(["w-full",Object(a["T"])(ae)("conteudo")])},null,8,["modelValue","class"]),Object(a["T"])(ie)("conteudo")?(Object(a["G"])(),Object(a["i"])("small",H,Object(a["Q"])(Object(a["T"])(oe)("conteudo")),1)):Object(a["h"])("",!0)])])])]),e.showSubmitButton?(Object(a["G"])(),Object(a["i"])("div",J,[Object(a["n"])(o,{class:"p-button-primary",type:"submit",label:"Entregar",icon:"pi pi-send",loading:Object(a["T"])(te)},null,8,["loading"])])):Object(a["h"])("",!0)],34)])])])])])])])])}}};const W=L;t["default"]=W}}]);
//# sourceMappingURL=chunk-44907b13.14cac014.js.map