(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f4c89b4"],{"83fb":function(e,t,r){"use strict";r.r(t);var a=r("5530"),c=r("7a23"),o=r("25a0"),n=r("0072"),i=r("aeb7"),s=r("cf87"),l={class:"main-page"},u={key:0,class:"page-section mb-3"},b=Object(c["l"])('<div class="container"><div class="grid justify-content-between"><div class="col"><div class=""><div class="text-2xl text-primary font-bold"> Agregar nuevo </div></div></div></div></div>',1),d=[b],j={class:"page-section"},f={class:"container"},m={class:"grid"},v={class:"md:col-9 sm:col-12 comp-grid"},p={class:""},O={class:""},g={class:"grid"},y={class:"col-12"},h={class:"formgrid grid"},S=Object(c["j"])("div",{class:"col-12 md:col-3"}," Nome ",-1),E={class:"col-12 md:col-9"},$={key:0,class:"p-error"},w={class:"col-12"},V={class:"formgrid grid"},T=Object(c["j"])("div",{class:"col-12 md:col-3"}," Valor ",-1),k={class:"col-12 md:col-9"},x={key:0,class:"p-error"},A={key:0,class:"text-center my-3"},D={props:{pageName:{type:String,default:"produtos"},routeName:{type:String,default:"produtosadd"},apiPath:{type:String,default:"produtos/add"},submitButtonLabel:{type:String,default:"Entregar"},formValidationError:{type:String,default:"El formulario no es v√°lido"},formValidationMsg:{type:String,default:"Por favor complete el formulario"},msgAfterSave:{type:String,default:"Grabar agregado exitosamente"},showHeader:{type:Boolean,default:!0},showSubmitButton:{type:Boolean,default:!0},redirect:{type:Boolean,default:!0},isSubPage:{type:Boolean,default:!1},pageData:{type:Object,default:function(){}}},setup:function(e,t){var r=t.expose,b=e,D=Object(i["a"])(),F={nome:"",valor:"0"},M=Object(c["I"])(Object(a["a"])({},F)),B=Object(c["e"])((function(){return{nome:{},valor:{numeric:n["a"]}}})),N=Object(o["a"])(B,M),P=Object(s["a"])({props:b,formData:M,v$:N,beforeSubmit:R,afterSubmit:G});function R(){return!0}function G(e){D.flashMsg(b.msgAfterSave),P.setFormDefaultValues(),b.redirect&&D.navigateTo("/produtos")}var I=Object(c["S"])(P.state),U=(I.submitted,I.saving),C=(I.pageReady,P.methods),H=C.submitForm,J=C.getErrorClass,Q=C.getFieldError,q=C.isFieldValid;return Object(c["E"])((function(){var e="Agregar nuevo";D.setPageTitle(b.routeName,e)})),r({page:P}),function(t,r){var a=Object(c["M"])("InputText"),o=Object(c["M"])("Button");return Object(c["G"])(),Object(c["i"])("div",l,[e.showHeader?(Object(c["G"])(),Object(c["i"])("section",u,d)):Object(c["h"])("",!0),Object(c["j"])("section",j,[Object(c["j"])("div",f,[Object(c["j"])("div",m,[Object(c["j"])("div",v,[Object(c["j"])("div",p,[Object(c["j"])("div",O,[Object(c["j"])("div",null,[Object(c["j"])("form",{ref:"observer",tag:"form",onSubmit:r[2]||(r[2]=Object(c["bb"])((function(e){return Object(c["T"])(H)()}),["prevent"])),class:Object(c["y"])(["",{card:!e.isSubPage}])},[Object(c["j"])("div",g,[Object(c["j"])("div",y,[Object(c["j"])("div",h,[S,Object(c["j"])("div",E,[Object(c["n"])(a,{ref:"ctrlnome",modelValue:Object(c["T"])(M).nome,"onUpdate:modelValue":r[0]||(r[0]=function(e){return Object(c["T"])(M).nome=e}),modelModifiers:{trim:!0},label:"Nome",type:"text",placeholder:"Escribir Nome",class:Object(c["y"])(["w-full",Object(c["T"])(J)("nome")])},null,8,["modelValue","class"]),Object(c["T"])(q)("nome")?(Object(c["G"])(),Object(c["i"])("small",$,Object(c["Q"])(Object(c["T"])(Q)("nome")),1)):Object(c["h"])("",!0)])])]),Object(c["j"])("div",w,[Object(c["j"])("div",V,[T,Object(c["j"])("div",k,[Object(c["n"])(a,{ref:"ctrlvalor",modelValue:Object(c["T"])(M).valor,"onUpdate:modelValue":r[1]||(r[1]=function(e){return Object(c["T"])(M).valor=e}),modelModifiers:{trim:!0},label:"Valor",type:"number",placeholder:"Escribir Valor",step:"0.1",class:Object(c["y"])(["w-full",Object(c["T"])(J)("valor")])},null,8,["modelValue","class"]),Object(c["T"])(q)("valor")?(Object(c["G"])(),Object(c["i"])("small",x,Object(c["Q"])(Object(c["T"])(Q)("valor")),1)):Object(c["h"])("",!0)])])])]),e.showSubmitButton?(Object(c["G"])(),Object(c["i"])("div",A,[Object(c["n"])(o,{class:"p-button-primary",type:"submit",label:"Entregar",icon:"pi pi-send",loading:Object(c["T"])(U)},null,8,["loading"])])):Object(c["h"])("",!0)],34)])])])])])])])])}}};const F=D;t["default"]=F},cf87:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var a=r("1da1"),c=r("5530"),o=r("2909"),n=(r("96cf"),r("d3b7"),r("159b"),r("b64b"),r("25f0"),r("7a23")),i=r("aeb7"),s=r("5502");function l(e){var t=e.props,r=e.formData,l=e.v$,u=e.beforeSubmit,b=e.afterSubmit,d=Object(i["a"])(),j=Object(s["b"])(),f=Object(n["I"])({id:null,pageReady:!1,submitted:!1,saving:!1,errorMsg:""});y();var m=Object(n["e"])((function(){return t.apiPath}));function v(){return f.submitted=!0,l.value.$validate(),!l.value.$invalid}function p(){if(Array.isArray(r)){var e=Object(o["a"])(r);return e.forEach((function(e){Object.keys(e).forEach((function(t){Array.isArray(e[t])&&(e[t]=e[t].toString())}))})),e}var t=Object(c["a"])({},r);return Object.keys(t).forEach((function(e){Array.isArray(t[e])&&(t[e]=t[e].toString())})),t}function O(){return g.apply(this,arguments)}function g(){return g=Object(a["a"])(regeneratorRuntime.mark((function e(){var r,a,c,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(f.submitted=!0,void 0===u){e.next=4;break}if(u()){e.next=4;break}return e.abrupt("return");case 4:if(v()){e.next=7;break}return d.flashMsg(t.formValidationError,t.formValidationMsg,"error"),e.abrupt("return");case 7:return f.saving=!0,r=m.value,a=p(),c={url:r,payload:a},e.prev=11,e.next=14,j.dispatch("".concat(t.pageName,"/saveRecord"),c);case 14:o=e.sent,d.closeDialogs(),b&&b(o),e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](11),d.showPageRequestError(e.t0);case 22:return e.prev=22,f.submitted=!1,f.saving=!1,e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[11,19,22,26]])}))),g.apply(this,arguments)}function y(){var e=Object(n["e"])((function(){return j.getters["".concat(t.pageName,"/formData")]})),a=t.pageData,o=Object(c["a"])(Object(c["a"])({},a),e.value);Array.isArray(r)||Object.assign(r,o)}function h(e,t){var r=!1;return void 0===t?r=l.value[e].$invalid&&f.submitted:l.value.$each.$response.$errors[t][e].length&&f.submitted&&(r=!0),{"p-invalid":r}}function S(e,t){return void 0===t?l.value[e].$invalid&&f.submitted:!(!l.value.$each.$response.$errors[t][e].length||!f.submitted)}function E(e,t){var r=null;if(void 0===t){if(r=l.value[e].$silentErrors,r.length)return r[0].$message}else if(r=l.value.$each.$response.$errors[t][e],r.length)return r[0].$message;return null}Object(n["W"])((function(){return t.pageData}),(function(e){Object.assign(r,e)}),{deep:!0,immediate:!0}),Object(n["E"])((function(){f.pageReady=!0}));var $={apiUrl:m},w={submitForm:O,getErrorClass:h,getFieldError:E,isFieldValid:S};return{validateForm:v,setFormDefaultValues:y,formData:r,state:f,computedProps:$,methods:w}}}}]);
//# sourceMappingURL=chunk-7f4c89b4.afc734eb.js.map